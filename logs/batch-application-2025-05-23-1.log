2025-05-23 05:04:22.274 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 17.0.15 with PID 51044 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:04:22.277 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:04:22.277 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:04:22.430 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 05:04:22.492 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:04:22.511 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interface.
2025-05-23 05:04:22.604 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:04:22.690 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:04:22.693 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:04:22.694 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:04:22.694 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:04:22.711 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:04:22.712 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 420 ms
2025-05-23 05:04:22.767 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:04:22.785 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:04:22.797 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:04:22.874 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:04:22.883 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:04:22.975 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ec0ca83
2025-05-23 05:04:22.976 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:04:22.998 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:04:23.281 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:04:23.340 [main] DEBUG org.hibernate.SQL - 
    create table batch_log (
        id bigserial not null,
        additional_info TEXT,
        created_at timestamp(6) not null,
        exception_stack TEXT,
        execution_id varchar(50) not null,
        job_name varchar(100),
        log_level varchar(10),
        log_time timestamp(6) not null,
        logger_name varchar(200),
        message TEXT,
        step_name varchar(100),
        thread_name varchar(100),
        primary key (id)
    )
2025-05-23 05:04:23.393 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:04:23.396 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'databaseAppender' defined in file [/Users/audi/Downloads/log/target/classes/cub/ret/tru/batch/config/DatabaseAppender.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-23 05:04:23.396 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:04:23.398 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-23 05:04:23.407 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-23 05:04:23.408 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-05-23 05:04:23.413 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-23 05:04:23.421 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in cub.ret.tru.batch.config.DatabaseAppender required a bean of type 'java.lang.String' that could not be found.


Action:

Consider defining a bean of type 'java.lang.String' in your configuration.

2025-05-23 05:06:17.221 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 23.0.2 with PID 51453 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:06:17.223 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:06:17.224 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:06:17.381 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 05:06:17.444 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:06:17.464 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 1 JPA repository interface.
2025-05-23 05:06:17.551 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:06:17.641 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:06:17.645 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:06:17.646 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:06:17.647 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:06:17.663 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:06:17.663 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 421 ms
2025-05-23 05:06:17.716 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:06:17.731 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:06:17.745 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:06:17.833 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:06:17.842 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:06:18.868 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: 嘗試連線已失敗。
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:?]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:424) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:273) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:105) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:129) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) [spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1173) [spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:936) [spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) [spring-context-6.1.1.jar:6.1.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) [spring-boot-3.2.0.jar:3.2.0]
	at cub.ret.tru.BatchLogSystemApplication.main(BatchLogSystemApplication.java:15) [classes/:?]
Caused by: java.net.NoRouteToHostException: No route to host
	at java.base/sun.nio.ch.Net.connect0(Native Method) ~[?:?]
	at java.base/sun.nio.ch.Net.connect(Net.java:589) ~[?:?]
	at java.base/sun.nio.ch.Net.connect(Net.java:578) ~[?:?]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583) ~[?:?]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[?:?]
	at java.base/java.net.Socket.connect(Socket.java:760) ~[?:?]
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.PGStream.<init>(PGStream.java:98) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.6.0.jar:42.6.0]
	... 50 more
2025-05-23 05:06:18.874 [main] WARN  org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:273) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:105) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:129) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) [spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1173) [spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:936) [spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) [spring-context-6.1.1.jar:6.1.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) [spring-boot-3.2.0.jar:3.2.0]
	at cub.ret.tru.BatchLogSystemApplication.main(BatchLogSystemApplication.java:15) [classes/:?]
2025-05-23 05:06:18.884 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:06:19.135 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:06:19.140 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:06:20.146 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: 嘗試連線已失敗。
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:?]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:424) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1430) ~[?:?]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:295) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) [spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1173) [spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:936) [spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) [spring-context-6.1.1.jar:6.1.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) [spring-boot-3.2.0.jar:3.2.0]
	at cub.ret.tru.BatchLogSystemApplication.main(BatchLogSystemApplication.java:15) [classes/:?]
Caused by: java.net.NoRouteToHostException: No route to host
	at java.base/sun.nio.ch.Net.connect0(Native Method) ~[?:?]
	at java.base/sun.nio.ch.Net.connect(Net.java:589) ~[?:?]
	at java.base/sun.nio.ch.Net.connect(Net.java:578) ~[?:?]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583) ~[?:?]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[?:?]
	at java.base/java.net.Socket.connect(Socket.java:760) ~[?:?]
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.PGStream.<init>(PGStream.java:98) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.6.0.jar:42.6.0]
	... 54 more
2025-05-23 05:06:20.148 [main] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
2025-05-23 05:06:20.148 [main] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - 嘗試連線已失敗。
2025-05-23 05:06:20.150 [main] ERROR org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [嘗試連線已失敗。] [n/a]
2025-05-23 05:06:20.150 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [嘗試連線已失敗。] [n/a]
2025-05-23 05:06:20.151 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-05-23 05:06:20.156 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-23 05:06:20.161 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [嘗試連線已失敗。] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1173) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:936) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) [spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) [spring-boot-3.2.0.jar:3.2.0]
	at cub.ret.tru.BatchLogSystemApplication.main(BatchLogSystemApplication.java:15) [classes/:?]
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [嘗試連線已失敗。] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]
	... 16 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [嘗試連線已失敗。] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1430) ~[?:?]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:295) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]
	... 16 more
Caused by: org.postgresql.util.PSQLException: 嘗試連線已失敗。
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:?]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:424) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1430) ~[?:?]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:295) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]
	... 16 more
Caused by: java.net.NoRouteToHostException: No route to host
	at java.base/sun.nio.ch.Net.connect0(Native Method) ~[?:?]
	at java.base/sun.nio.ch.Net.connect(Net.java:589) ~[?:?]
	at java.base/sun.nio.ch.Net.connect(Net.java:578) ~[?:?]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583) ~[?:?]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[?:?]
	at java.base/java.net.Socket.connect(Socket.java:760) ~[?:?]
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.PGStream.<init>(PGStream.java:98) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:?]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:424) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1430) ~[?:?]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:295) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.3.1.Final.jar:6.3.1.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]
	... 16 more
2025-05-23 05:06:49.317 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 17.0.15 with PID 52049 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:06:49.320 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:06:49.320 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:06:49.478 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 05:06:49.538 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:06:49.558 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2025-05-23 05:06:49.650 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:06:49.736 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:06:49.740 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:06:49.741 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:06:49.741 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:06:49.756 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:06:49.757 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 421 ms
2025-05-23 05:06:49.808 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:06:49.826 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:06:49.836 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:06:49.906 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:06:49.916 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:06:50.077 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@402f61f5
2025-05-23 05:06:50.078 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:06:50.095 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:06:50.375 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:06:50.432 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:06:50.538 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 05:06:50.702 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
2025-05-23 05:06:50.708 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 05:06:50.717 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:06:50.718 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:06:50.718 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:06:50.719 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:06:50.732 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 05:06:50.835 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 05:06:50.842 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8089 (http) with context path ''
2025-05-23 05:06:50.845 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Started BatchLogSystemApplication in 1.66 seconds (process running for 2.124)
2025-05-23 05:06:50.846 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 05:07:46.292 [http-nio-8089-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23 05:07:46.292 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-23 05:07:46.293 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-23 05:07:46.341 [http-nio-8089-exec-1] ERROR cub.ret.tru.batch.controller.BatchController - 啟動批次作業失敗
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.getLastJobExecution(Unknown Source) ~[?:?]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:111) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) [classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) [spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) [spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) [spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) [spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) [spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) [spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) [spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) [spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) [spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) [spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) [tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) [spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) [tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) [tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) [spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) [spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) [spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:840) [?:?]
Caused by: org.postgresql.util.PSQLException: ERROR: relation "batch_job_instance" does not exist
  位置：39
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 72 more
2025-05-23 05:08:11.291 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 23.0.2 with PID 52346 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:08:11.293 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:08:11.294 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:08:11.438 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 0 ms.
2025-05-23 05:08:11.499 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:08:11.518 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2025-05-23 05:08:11.594 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:08:11.677 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:08:11.681 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:08:11.682 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:08:11.683 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:08:11.698 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:08:11.699 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 389 ms
2025-05-23 05:08:11.746 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:08:11.760 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:08:11.774 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:08:11.843 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:08:11.850 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:08:11.939 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@377e573a
2025-05-23 05:08:11.939 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:08:11.954 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:08:12.203 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:08:12.244 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:08:12.360 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 05:08:12.551 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
2025-05-23 05:08:12.556 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 05:08:12.567 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:08:12.567 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:08:12.567 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:08:12.568 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:08:12.581 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 05:08:12.684 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 05:08:12.687 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-23 05:08:12.688 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:08:12.688 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-23 05:08:12.690 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-23 05:08:12.695 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-23 05:08:12.698 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8089 was already in use.

Action:

Identify and stop the process that's listening on port 8089 or configure this application to listen on another port.

2025-05-23 05:08:44.511 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 23.0.2 with PID 52967 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:08:44.513 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:08:44.513 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:08:44.647 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 0 ms.
2025-05-23 05:08:44.700 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:08:44.718 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interface.
2025-05-23 05:08:44.792 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:08:44.870 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:08:44.873 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:08:44.874 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:08:44.875 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:08:44.890 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:08:44.891 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 362 ms
2025-05-23 05:08:44.939 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:08:44.953 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:08:44.968 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:08:45.038 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:08:45.047 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:08:45.137 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@312f3050
2025-05-23 05:08:45.138 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:08:45.155 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:08:45.391 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:08:45.436 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:08:45.542 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 05:08:45.719 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
2025-05-23 05:08:45.724 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 05:08:45.732 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:08:45.733 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:08:45.733 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:08:45.734 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:08:45.749 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 05:08:45.844 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 05:08:45.850 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8089 (http) with context path ''
2025-05-23 05:08:45.853 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Started BatchLogSystemApplication in 1.447 seconds (process running for 1.705)
2025-05-23 05:08:45.853 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 05:08:58.903 [http-nio-8089-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23 05:08:58.903 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-23 05:08:58.904 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-23 05:08:58.943 [http-nio-8089-exec-1] ERROR cub.ret.tru.batch.controller.BatchController - 啟動批次作業失敗
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.getLastJobExecution(Unknown Source) ~[?:?]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:111) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:1575) [?:?]
Caused by: org.postgresql.util.PSQLException: ERROR: relation "batch_job_instance" does not exist
  位置：39
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 68 more
2025-05-23 05:09:16.371 [http-nio-8089-exec-4] DEBUG org.hibernate.SQL - 
    select
        ble1_0.id,
        ble1_0.additional_info,
        ble1_0.created_at,
        ble1_0.exception_stack,
        ble1_0.execution_id,
        ble1_0.job_name,
        ble1_0.log_level,
        ble1_0.log_time,
        ble1_0.logger_name,
        ble1_0.message,
        ble1_0.step_name,
        ble1_0.thread_name 
    from
        batch_log ble1_0 
    where
        ble1_0.job_name=? 
    order by
        ble1_0.log_time desc
2025-05-23 05:09:47.783 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:09:47.786 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-23 05:09:47.789 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-23 05:09:49.319 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 23.0.2 with PID 53669 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:09:49.321 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:09:49.321 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:09:49.464 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 05:09:49.520 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:09:49.538 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interface.
2025-05-23 05:09:49.616 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:09:49.696 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:09:49.700 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:09:49.701 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:09:49.701 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:09:49.716 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:09:49.716 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 379 ms
2025-05-23 05:09:49.762 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:09:49.777 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:09:49.792 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:09:49.857 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:09:49.864 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:09:49.949 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d4d65f5
2025-05-23 05:09:49.949 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:09:49.966 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:09:50.197 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:09:50.241 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:09:50.344 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 05:09:50.527 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
2025-05-23 05:09:50.531 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 05:09:50.540 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:09:50.540 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:09:50.540 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:09:50.541 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:09:50.557 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 05:09:50.646 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 05:09:50.652 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8089 (http) with context path ''
2025-05-23 05:09:50.654 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Started BatchLogSystemApplication in 1.445 seconds (process running for 1.705)
2025-05-23 05:09:50.655 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 05:10:21.301 [http-nio-8089-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23 05:10:21.302 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-23 05:10:21.303 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-23 05:10:21.340 [http-nio-8089-exec-1] ERROR cub.ret.tru.batch.controller.BatchController - 啟動批次作業失敗
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.getLastJobExecution(Unknown Source) ~[?:?]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:111) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:1575) [?:?]
Caused by: org.postgresql.util.PSQLException: ERROR: relation "batch_job_instance" does not exist
  位置：39
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 68 more
2025-05-23 05:11:15.992 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:11:15.994 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-23 05:11:15.996 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-23 05:11:17.528 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 23.0.2 with PID 54497 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:11:17.530 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:11:17.531 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:11:17.664 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 0 ms.
2025-05-23 05:11:17.720 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:11:17.738 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 1 JPA repository interface.
2025-05-23 05:11:17.814 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:11:17.894 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:11:17.897 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:11:17.898 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:11:17.898 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:11:17.914 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:11:17.915 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 368 ms
2025-05-23 05:11:17.965 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:11:17.981 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:11:17.996 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:11:18.067 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:11:18.076 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:11:18.159 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38cf3ae1
2025-05-23 05:11:18.159 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:11:18.175 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:11:18.425 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:11:18.472 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:11:18.581 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 05:11:18.766 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
2025-05-23 05:11:18.771 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 05:11:18.781 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:11:18.782 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:11:18.782 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:11:18.783 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:11:18.798 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 05:11:18.889 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 05:11:18.895 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8089 (http) with context path ''
2025-05-23 05:11:18.897 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Started BatchLogSystemApplication in 1.478 seconds (process running for 1.746)
2025-05-23 05:11:18.898 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 05:11:35.331 [http-nio-8089-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23 05:11:35.332 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-23 05:11:35.333 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-23 05:11:35.371 [http-nio-8089-exec-1] ERROR cub.ret.tru.batch.controller.BatchController - 啟動批次作業失敗
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT JOB_INSTANCE_ID, JOB_NAME
FROM BATCH_JOB_INSTANCE
WHERE JOB_NAME = ?
 and JOB_KEY = ?]
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcJobInstanceDao.getJobInstance(JdbcJobInstanceDao.java:183) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastJobExecution(SimpleJobRepository.java:299) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.getLastJobExecution(Unknown Source) ~[?:?]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:111) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:1575) [?:?]
Caused by: org.postgresql.util.PSQLException: ERROR: relation "batch_job_instance" does not exist
  位置：39
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 68 more
2025-05-23 05:12:07.425 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 17.0.15 with PID 54619 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:12:07.428 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:12:07.428 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:12:07.591 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 05:12:07.657 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:12:07.679 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-05-23 05:12:07.773 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:12:07.861 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:12:07.864 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:12:07.865 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:12:07.865 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:12:07.882 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:12:07.883 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 439 ms
2025-05-23 05:12:07.936 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:12:07.952 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:12:07.962 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:12:08.039 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:12:08.049 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:12:08.142 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d7d8911
2025-05-23 05:12:08.142 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:12:08.159 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:12:08.448 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:12:08.455 [main] DEBUG org.hibernate.SQL - 
    drop table if exists batch_log cascade
2025-05-23 05:12:08.511 [main] DEBUG org.hibernate.SQL - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 05:12:08.540 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:12:08.650 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 05:12:08.809 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
2025-05-23 05:12:08.815 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 05:12:08.825 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:12:08.825 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:12:08.826 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:12:08.827 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:12:08.840 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 05:12:08.944 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 05:12:08.947 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-23 05:12:08.948 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:12:08.948 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-23 05:12:08.950 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-23 05:12:08.954 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-23 05:12:08.959 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8089 was already in use.

Action:

Identify and stop the process that's listening on port 8089 or configure this application to listen on another port.

2025-05-23 05:12:49.786 [http-nio-8089-exec-2] ERROR cub.ret.tru.batch.controller.BatchController - 啟動批次作業失敗
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO BATCH_JOB_EXECUTION_PARAMS(JOB_EXECUTION_ID, PARAMETER_NAME, PARAMETER_TYPE, PARAMETER_VALUE, IDENTIFYING)
	VALUES (?, ?, ?, ?, ?)
]
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:701) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.batchUpdate(JdbcTemplate.java:1101) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.insertJobParameters(JdbcJobExecutionDao.java:431) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:251) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:178) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean.lambda$getObject$0(AbstractJobRepositoryFactoryBean.java:204) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.createJobExecution(Unknown Source) ~[?:?]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:1575) [?:?]
Caused by: java.sql.BatchUpdateException: Batch entry 0 INSERT INTO BATCH_JOB_EXECUTION_PARAMS(JOB_EXECUTION_ID, PARAMETER_NAME, PARAMETER_TYPE, PARAMETER_VALUE, IDENTIFYING)
	VALUES (1, 'timestamp', 'java.lang.Long', '1747948369710', 'Y')
 was aborted: ERROR: column "parameter_name" of relation "batch_job_execution_params" does not exist
  位置：58  Call getNextException to see other errors in the batch.
	at org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:165) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2402) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:574) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:896) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:919) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1685) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate.lambda$batchUpdate$4(JdbcTemplate.java:1117) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 69 more
Caused by: org.postgresql.util.PSQLException: ERROR: column "parameter_name" of relation "batch_job_execution_params" does not exist
  位置：58
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:574) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:896) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:919) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1685) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate.lambda$batchUpdate$4(JdbcTemplate.java:1117) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 69 more
2025-05-23 05:13:16.137 [http-nio-8089-exec-3] ERROR cub.ret.tru.batch.controller.BatchController - 啟動批次作業失敗
org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO BATCH_JOB_EXECUTION_PARAMS(JOB_EXECUTION_ID, PARAMETER_NAME, PARAMETER_TYPE, PARAMETER_VALUE, IDENTIFYING)
	VALUES (?, ?, ?, ?, ?)
]; Batch entry 0 INSERT INTO BATCH_JOB_EXECUTION_PARAMS(JOB_EXECUTION_ID, PARAMETER_NAME, PARAMETER_TYPE, PARAMETER_VALUE, IDENTIFYING)
	VALUES (2, 'timestamp', 'java.lang.Long', '1747948396090', 'Y')
 was aborted: ERROR: value too long for type character varying(6)  Call getNextException to see other errors in the batch.
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:118) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:701) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.batchUpdate(JdbcTemplate.java:1101) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.insertJobParameters(JdbcJobExecutionDao.java:431) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:251) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:178) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean.lambda$getObject$0(AbstractJobRepositoryFactoryBean.java:204) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.createJobExecution(Unknown Source) ~[?:?]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:145) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:1575) [?:?]
Caused by: java.sql.BatchUpdateException: Batch entry 0 INSERT INTO BATCH_JOB_EXECUTION_PARAMS(JOB_EXECUTION_ID, PARAMETER_NAME, PARAMETER_TYPE, PARAMETER_VALUE, IDENTIFYING)
	VALUES (2, 'timestamp', 'java.lang.Long', '1747948396090', 'Y')
 was aborted: ERROR: value too long for type character varying(6)  Call getNextException to see other errors in the batch.
	at org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:165) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2402) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:574) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:896) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:919) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1685) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate.lambda$batchUpdate$4(JdbcTemplate.java:1117) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 69 more
Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(6)
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:574) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:896) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:919) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1685) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate.lambda$batchUpdate$4(JdbcTemplate.java:1117) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 69 more
2025-05-23 05:13:30.082 [http-nio-8089-exec-4] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] launched with the following parameters: [{'timestamp':'{value=1747948409981, type=class java.lang.Long, identifying=true}'}]
2025-05-23 05:13:30.110 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - === 作業開始執行 ===
2025-05-23 05:13:30.110 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行代號: 20250523051330_2b0e005f
2025-05-23 05:13:30.110 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 05:13:30.110 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業實例ID: 3
2025-05-23 05:13:30.110 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行ID: 3
2025-05-23 05:13:30.110 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 開始時間: 2025-05-23T05:13:30.087020
2025-05-23 05:13:30.120 [http-nio-8089-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:13:30.145 [http-nio-8089-exec-4] ERROR org.springframework.batch.core.job.AbstractJob - Encountered fatal error executing job
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT SE.STEP_EXECUTION_ID, SE.STEP_NAME, SE.START_TIME, SE.END_TIME, SE.STATUS, SE.COMMIT_COUNT, SE.READ_COUNT, SE.FILTER_COUNT, SE.WRITE_COUNT, SE.EXIT_CODE, SE.EXIT_MESSAGE, SE.READ_SKIP_COUNT, SE.WRITE_SKIP_COUNT, SE.PROCESS_SKIP_COUNT, SE.ROLLBACK_COUNT, SE.LAST_UPDATED, SE.VERSION, SE.CREATE_TIME, JE.JOB_EXECUTION_ID, JE.START_TIME, JE.END_TIME, JE.STATUS, JE.EXIT_CODE, JE.EXIT_MESSAGE, JE.CREATE_TIME, JE.LAST_UPDATED, JE.VERSION
FROM BATCH_JOB_EXECUTION JE
	JOIN BATCH_STEP_EXECUTION SE ON SE.JOB_EXECUTION_ID = JE.JOB_EXECUTION_ID
WHERE JE.JOB_INSTANCE_ID = ? AND SE.STEP_NAME = ?
ORDER BY SE.CREATE_TIME DESC, SE.STEP_EXECUTION_ID DESC
]
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcStepExecutionDao.getLastStepExecution(JdbcStepExecutionDao.java:339) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastStepExecution(SimpleJobRepository.java:260) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.getLastStepExecution(Unknown Source) ~[?:?]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:115) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:418) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:132) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:317) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:157) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:148) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:1575) [?:?]
Caused by: org.postgresql.util.PSQLException: ERROR: column se.create_time does not exist
  建議：Perhaps you meant to reference the column "je.create_time".
  位置：291
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 74 more
2025-05-23 05:13:30.147 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - === 作業執行完成 ===
2025-05-23 05:13:30.147 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行代號: 20250523051330_2b0e005f
2025-05-23 05:13:30.147 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 05:13:30.147 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行狀態: FAILED
2025-05-23 05:13:30.147 [http-nio-8089-exec-4] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 結束時間: 2025-05-23T05:13:30.147405
2025-05-23 05:13:30.147 [http-nio-8089-exec-4] WARN  cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行異常結束，退出代碼: FAILED
2025-05-23 05:13:30.148 [http-nio-8089-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:13:30.162 [http-nio-8089-exec-4] ERROR cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行過程中發生錯誤: PreparedStatementCallback; bad SQL grammar [SELECT SE.STEP_EXECUTION_ID, SE.STEP_NAME, SE.START_TIME, SE.END_TIME, SE.STATUS, SE.COMMIT_COUNT, SE.READ_COUNT, SE.FILTER_COUNT, SE.WRITE_COUNT, SE.EXIT_CODE, SE.EXIT_MESSAGE, SE.READ_SKIP_COUNT, SE.WRITE_SKIP_COUNT, SE.PROCESS_SKIP_COUNT, SE.ROLLBACK_COUNT, SE.LAST_UPDATED, SE.VERSION, SE.CREATE_TIME, JE.JOB_EXECUTION_ID, JE.START_TIME, JE.END_TIME, JE.STATUS, JE.EXIT_CODE, JE.EXIT_MESSAGE, JE.CREATE_TIME, JE.LAST_UPDATED, JE.VERSION
FROM BATCH_JOB_EXECUTION JE
	JOIN BATCH_STEP_EXECUTION SE ON SE.JOB_EXECUTION_ID = JE.JOB_EXECUTION_ID
WHERE JE.JOB_INSTANCE_ID = ? AND SE.STEP_NAME = ?
ORDER BY SE.CREATE_TIME DESC, SE.STEP_EXECUTION_ID DESC
]
org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT SE.STEP_EXECUTION_ID, SE.STEP_NAME, SE.START_TIME, SE.END_TIME, SE.STATUS, SE.COMMIT_COUNT, SE.READ_COUNT, SE.FILTER_COUNT, SE.WRITE_COUNT, SE.EXIT_CODE, SE.EXIT_MESSAGE, SE.READ_SKIP_COUNT, SE.WRITE_SKIP_COUNT, SE.PROCESS_SKIP_COUNT, SE.ROLLBACK_COUNT, SE.LAST_UPDATED, SE.VERSION, SE.CREATE_TIME, JE.JOB_EXECUTION_ID, JE.START_TIME, JE.END_TIME, JE.STATUS, JE.EXIT_CODE, JE.EXIT_MESSAGE, JE.CREATE_TIME, JE.LAST_UPDATED, JE.VERSION
FROM BATCH_JOB_EXECUTION JE
	JOIN BATCH_STEP_EXECUTION SE ON SE.JOB_EXECUTION_ID = JE.JOB_EXECUTION_ID
WHERE JE.JOB_INSTANCE_ID = ? AND SE.STEP_NAME = ?
ORDER BY SE.CREATE_TIME DESC, SE.STEP_EXECUTION_ID DESC
]
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:754) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:767) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:825) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcStepExecutionDao.getLastStepExecution(JdbcStepExecutionDao.java:339) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastStepExecution(SimpleJobRepository.java:260) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.getLastStepExecution(Unknown Source) ~[?:?]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:115) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:418) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:132) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:317) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:157) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:148) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:1575) [?:?]
Caused by: org.postgresql.util.PSQLException: ERROR: column se.create_time does not exist
  建議：Perhaps you meant to reference the column "je.create_time".
  位置：291
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:732) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 74 more
2025-05-23 05:13:30.163 [http-nio-8089-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:13:30.200 [http-nio-8089-exec-4] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] completed with the following parameters: [{'timestamp':'{value=1747948409981, type=class java.lang.Long, identifying=true}'}] and the following status: [FAILED] in 60ms
2025-05-23 05:15:54.741 [http-nio-8089-exec-7] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] launched with the following parameters: [{'timestamp':'{value=1747948554655, type=class java.lang.Long, identifying=true}'}]
2025-05-23 05:15:54.764 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - === 作業開始執行 ===
2025-05-23 05:15:54.764 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行代號: 20250523051554_39837b60
2025-05-23 05:15:54.764 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 05:15:54.765 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業實例ID: 4
2025-05-23 05:15:54.765 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行ID: 4
2025-05-23 05:15:54.765 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 開始時間: 2025-05-23T05:15:54.742141
2025-05-23 05:15:54.765 [http-nio-8089-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:15:54.808 [http-nio-8089-exec-7] ERROR org.springframework.batch.core.job.AbstractJob - Encountered fatal error executing job
org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO BATCH_STEP_EXECUTION(STEP_EXECUTION_ID, VERSION, STEP_NAME, JOB_EXECUTION_ID, START_TIME, END_TIME, STATUS, COMMIT_COUNT, READ_COUNT, FILTER_COUNT, WRITE_COUNT, EXIT_CODE, EXIT_MESSAGE, READ_SKIP_COUNT, WRITE_SKIP_COUNT, PROCESS_SKIP_COUNT, ROLLBACK_COUNT, LAST_UPDATED, CREATE_TIME)
	VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
]; ERROR: null value in column "start_time" of relation "batch_step_execution" violates not-null constraint
  詳細：Failing row contains (1, 0, initializeEmployeeJobContextStep, 4, null, null, STARTING, 0, 0, 0, 0, 0, 0, 0, 0, EXECUTING, , 2025-05-23 05:15:54.795996, 2025-05-23 05:15:54.795788).
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:118) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:970) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1014) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcStepExecutionDao.saveStepExecution(JdbcStepExecutionDao.java:163) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.add(SimpleJobRepository.java:209) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.add(Unknown Source) ~[?:?]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:147) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:418) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:132) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:317) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:157) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:148) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:1575) [?:?]
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "start_time" of relation "batch_step_execution" violates not-null constraint
  詳細：Failing row contains (1, 0, initializeEmployeeJobContextStep, 4, null, null, STARTING, 0, 0, 0, 0, 0, 0, 0, 0, EXECUTING, , 2025-05-23 05:15:54.795996, 2025-05-23 05:15:54.795788).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:975) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 73 more
2025-05-23 05:15:54.809 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - === 作業執行完成 ===
2025-05-23 05:15:54.810 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行代號: 20250523051554_39837b60
2025-05-23 05:15:54.810 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 05:15:54.810 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行狀態: FAILED
2025-05-23 05:15:54.810 [http-nio-8089-exec-7] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 結束時間: 2025-05-23T05:15:54.809870
2025-05-23 05:15:54.810 [http-nio-8089-exec-7] WARN  cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行異常結束，退出代碼: FAILED
2025-05-23 05:15:54.810 [http-nio-8089-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:15:54.824 [http-nio-8089-exec-7] ERROR cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行過程中發生錯誤: PreparedStatementCallback; SQL [INSERT INTO BATCH_STEP_EXECUTION(STEP_EXECUTION_ID, VERSION, STEP_NAME, JOB_EXECUTION_ID, START_TIME, END_TIME, STATUS, COMMIT_COUNT, READ_COUNT, FILTER_COUNT, WRITE_COUNT, EXIT_CODE, EXIT_MESSAGE, READ_SKIP_COUNT, WRITE_SKIP_COUNT, PROCESS_SKIP_COUNT, ROLLBACK_COUNT, LAST_UPDATED, CREATE_TIME)
	VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
]; ERROR: null value in column "start_time" of relation "batch_step_execution" violates not-null constraint
  詳細：Failing row contains (1, 0, initializeEmployeeJobContextStep, 4, null, null, STARTING, 0, 0, 0, 0, 0, 0, 0, 0, EXECUTING, , 2025-05-23 05:15:54.795996, 2025-05-23 05:15:54.795788).
org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO BATCH_STEP_EXECUTION(STEP_EXECUTION_ID, VERSION, STEP_NAME, JOB_EXECUTION_ID, START_TIME, END_TIME, STATUS, COMMIT_COUNT, READ_COUNT, FILTER_COUNT, WRITE_COUNT, EXIT_CODE, EXIT_MESSAGE, READ_SKIP_COUNT, WRITE_SKIP_COUNT, PROCESS_SKIP_COUNT, ROLLBACK_COUNT, LAST_UPDATED, CREATE_TIME)
	VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
]; ERROR: null value in column "start_time" of relation "batch_step_execution" violates not-null constraint
  詳細：Failing row contains (1, 0, initializeEmployeeJobContextStep, 4, null, null, STARTING, 0, 0, 0, 0, 0, 0, 0, 0, EXECUTING, , 2025-05-23 05:15:54.795996, 2025-05-23 05:15:54.795788).
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:118) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:970) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1014) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.repository.dao.JdbcStepExecutionDao.saveStepExecution(JdbcStepExecutionDao.java:163) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.add(SimpleJobRepository.java:209) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249) ~[spring-aop-6.1.1.jar:6.1.1]
	at jdk.proxy2/jdk.proxy2.$Proxy132.add(Unknown Source) ~[?:?]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:147) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:418) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:132) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:317) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:157) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-6.1.1.jar:6.1.1]
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:148) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:59) ~[spring-batch-core-5.1.0.jar:5.1.0]
	at cub.ret.tru.batch.controller.BatchController.runGetEmployeeJob(BatchController.java:40) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:1575) [?:?]
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "start_time" of relation "batch_step_execution" violates not-null constraint
  詳細：Failing row contains (1, 0, initializeEmployeeJobContextStep, 4, null, null, STARTING, 0, 0, 0, 0, 0, 0, 0, 0, EXECUTING, , 2025-05-23 05:15:54.795996, 2025-05-23 05:15:54.795788).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:?]
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:975) ~[spring-jdbc-6.1.1.jar:6.1.1]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658) ~[spring-jdbc-6.1.1.jar:6.1.1]
	... 73 more
2025-05-23 05:15:54.826 [http-nio-8089-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:15:54.868 [http-nio-8089-exec-7] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] completed with the following parameters: [{'timestamp':'{value=1747948554655, type=class java.lang.Long, identifying=true}'}] and the following status: [FAILED] in 67ms
2025-05-23 05:16:19.879 [http-nio-8089-exec-8] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] launched with the following parameters: [{'timestamp':'{value=1747948579809, type=class java.lang.Long, identifying=true}'}]
2025-05-23 05:16:19.904 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - === 作業開始執行 ===
2025-05-23 05:16:19.904 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行代號: 20250523051619_f350a39a
2025-05-23 05:16:19.904 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 05:16:19.904 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業實例ID: 5
2025-05-23 05:16:19.904 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行ID: 5
2025-05-23 05:16:19.904 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 開始時間: 2025-05-23T05:16:19.879457
2025-05-23 05:16:19.905 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:19.960 [http-nio-8089-exec-8] INFO  org.springframework.batch.core.job.SimpleStepHandler - Executing step: [initializeEmployeeJobContextStep]
2025-05-23 05:16:19.994 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - STEP 1: 初始化 GET_EMPLOYEE_JOB 作業上下文
2025-05-23 05:16:20.000 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:20.016 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - 資料檔案路徑: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 05:16:20.016 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - 備份檔案路徑: /tmp/batch/backup
2025-05-23 05:16:20.016 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - 原始檔案名稱: BOND_MEMMARK.txt
2025-05-23 05:16:20.016 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - 執行代號: 20250523051619_f350a39a
2025-05-23 05:16:20.017 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:20.066 [http-nio-8089-exec-8] INFO  org.springframework.batch.core.step.AbstractStep - Step: [initializeEmployeeJobContextStep] executed in 106ms
2025-05-23 05:16:20.134 [http-nio-8089-exec-8] INFO  org.springframework.batch.core.job.SimpleStepHandler - Executing step: [processEmployeeFileStep]
2025-05-23 05:16:20.168 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - STEP 2: 開始處理行員檔案
2025-05-23 05:16:20.169 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:20.189 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet - 開始處理行員檔案: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 05:16:20.190 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:20.205 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet - 檔案總行數: 5
2025-05-23 05:16:20.206 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:20.220 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet - 正在解析行員檔案...
2025-05-23 05:16:20.221 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:21.238 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet - 行員檔案處理完成，處理記錄數: 5
2025-05-23 05:16:21.246 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:21.304 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:21.357 [http-nio-8089-exec-8] INFO  org.springframework.batch.core.step.AbstractStep - Step: [processEmployeeFileStep] executed in 1s223ms
2025-05-23 05:16:21.423 [http-nio-8089-exec-8] INFO  org.springframework.batch.core.job.SimpleStepHandler - Executing step: [backupEmployeeFileStep]
2025-05-23 05:16:21.455 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - STEP 3: 開始備份檔案
2025-05-23 05:16:21.456 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:21.471 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 開始備份檔案
2025-05-23 05:16:21.471 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 來源檔案: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 05:16:21.471 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 備份目錄: /tmp/batch/backup
2025-05-23 05:16:21.472 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:21.490 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 檔案備份完成
2025-05-23 05:16:21.490 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 備份檔案: /tmp/batch/backup/BOND_MEMMARK_20250523_051621_20250523051619_f350a39a.txt
2025-05-23 05:16:21.490 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 檔案大小: 243 bytes
2025-05-23 05:16:21.491 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:21.510 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:21.565 [http-nio-8089-exec-8] INFO  org.springframework.batch.core.step.AbstractStep - Step: [backupEmployeeFileStep] executed in 141ms
2025-05-23 05:16:21.597 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - === 作業執行完成 ===
2025-05-23 05:16:21.598 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行代號: 20250523051619_f350a39a
2025-05-23 05:16:21.598 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 05:16:21.598 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行狀態: COMPLETED
2025-05-23 05:16:21.598 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 結束時間: 2025-05-23T05:16:21.597847
2025-05-23 05:16:21.598 [http-nio-8089-exec-8] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行成功完成
2025-05-23 05:16:21.598 [http-nio-8089-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:16:21.636 [http-nio-8089-exec-8] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] completed with the following parameters: [{'timestamp':'{value=1747948579809, type=class java.lang.Long, identifying=true}'}] and the following status: [COMPLETED] in 1s718ms
2025-05-23 05:16:48.397 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:16:48.400 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-23 05:16:48.402 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-23 05:16:58.264 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 23.0.2 with PID 56635 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:16:58.265 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:16:58.266 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:16:58.386 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 0 ms.
2025-05-23 05:16:58.433 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:16:58.448 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 1 JPA repository interface.
2025-05-23 05:16:58.515 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:16:58.590 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:16:58.593 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:16:58.593 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:16:58.593 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:16:58.606 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:16:58.607 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 328 ms
2025-05-23 05:16:58.648 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:16:58.661 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:16:58.673 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:16:58.739 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:16:58.746 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:16:58.828 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61ad30f6
2025-05-23 05:16:58.829 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:16:58.842 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:16:59.074 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:16:59.078 [main] DEBUG org.hibernate.SQL - 
    drop table if exists batch_log cascade
2025-05-23 05:16:59.138 [main] DEBUG org.hibernate.SQL - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 05:16:59.182 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:16:59.305 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 05:16:59.484 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
2025-05-23 05:16:59.488 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 05:16:59.497 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:16:59.498 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:16:59.498 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:16:59.499 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:16:59.511 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 05:16:59.591 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 05:16:59.599 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8089 (http) with context path ''
2025-05-23 05:16:59.602 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Started BatchLogSystemApplication in 1.438 seconds (process running for 1.697)
2025-05-23 05:16:59.602 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 05:17:14.834 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 17.0.15 with PID 56694 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:17:14.837 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:17:14.837 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:17:14.990 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 05:17:15.057 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:17:15.078 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 1 JPA repository interface.
2025-05-23 05:17:15.176 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:17:15.262 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:17:15.267 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:17:15.268 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:17:15.268 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:17:15.287 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:17:15.288 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 435 ms
2025-05-23 05:17:15.342 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:17:15.360 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:17:15.371 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:17:15.448 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:17:15.458 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:17:15.552 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@df9d400
2025-05-23 05:17:15.552 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:17:15.568 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:17:15.856 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:17:15.864 [main] DEBUG org.hibernate.SQL - 
    drop table if exists batch_log cascade
2025-05-23 05:17:15.881 [main] DEBUG org.hibernate.SQL - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 05:17:15.905 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:17:16.012 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 05:17:16.171 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
2025-05-23 05:17:16.177 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 05:17:16.187 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:17:16.188 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:17:16.188 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:17:16.189 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:17:16.202 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 05:17:16.306 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 05:17:16.309 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-23 05:17:16.309 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:17:16.310 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-23 05:17:16.312 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-23 05:17:16.316 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-23 05:17:16.321 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8089 was already in use.

Action:

Identify and stop the process that's listening on port 8089 or configure this application to listen on another port.

2025-05-23 05:17:22.604 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:17:22.606 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-23 05:17:22.609 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-23 05:17:35.791 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Starting BatchLogSystemApplication using Java 17.0.15 with PID 56750 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 05:17:35.793 [main] DEBUG cub.ret.tru.BatchLogSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 05:17:35.794 [main] INFO  cub.ret.tru.BatchLogSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-23 05:17:35.944 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 05:17:36.006 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 05:17:36.030 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 1 JPA repository interface.
2025-05-23 05:17:36.120 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 05:17:36.204 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8089 (http)
2025-05-23 05:17:36.208 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 05:17:36.209 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-23 05:17:36.209 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 05:17:36.228 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-23 05:17:36.229 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 420 ms
2025-05-23 05:17:36.282 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 05:17:36.299 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 05:17:36.310 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-23 05:17:36.386 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 05:17:36.395 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-23 05:17:36.491 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2c56eba5
2025-05-23 05:17:36.492 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-23 05:17:36.511 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 05:17:36.802 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 05:17:36.808 [main] DEBUG org.hibernate.SQL - 
    drop table if exists batch_log cascade
2025-05-23 05:17:36.834 [main] DEBUG org.hibernate.SQL - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 05:17:36.857 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 05:17:36.962 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 05:17:37.119 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
2025-05-23 05:17:37.125 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 05:17:37.135 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:17:37.136 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:17:37.136 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:17:37.138 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 05:17:37.151 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 05:17:37.254 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 05:17:37.261 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8089 (http) with context path ''
2025-05-23 05:17:37.265 [main] INFO  cub.ret.tru.BatchLogSystemApplication - Started BatchLogSystemApplication in 1.606 seconds (process running for 2.058)
2025-05-23 05:17:37.265 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 05:19:33.633 [http-nio-8089-exec-2] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23 05:19:33.633 [http-nio-8089-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-23 05:19:33.634 [http-nio-8089-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-23 05:19:33.754 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] launched with the following parameters: [{'timestamp':'{value=1747948773646, type=class java.lang.Long, identifying=true}'}]
2025-05-23 05:19:33.784 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - === 作業開始執行 ===
2025-05-23 05:19:33.795 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:33.816 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行代號: 20250523051933_2752a0b4
2025-05-23 05:19:33.816 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:33.830 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 05:19:33.830 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:33.844 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業實例ID: 6
2025-05-23 05:19:33.844 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:33.859 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行ID: 6
2025-05-23 05:19:33.860 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:33.874 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 開始時間: 2025-05-23T05:19:33.759685
2025-05-23 05:19:33.874 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:33.890 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:33.945 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.job.SimpleStepHandler - Executing step: [initializeEmployeeJobContextStep]
2025-05-23 05:19:33.945 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:33.995 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - STEP 1: 初始化 GET_EMPLOYEE_JOB 作業上下文
2025-05-23 05:19:33.999 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.018 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.032 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - 資料檔案路徑: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 05:19:34.032 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.045 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - 備份檔案路徑: /tmp/batch/backup
2025-05-23 05:19:34.046 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.060 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - 原始檔案名稱: BOND_MEMMARK.txt
2025-05-23 05:19:34.060 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.074 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - 執行代號: 20250523051933_2752a0b4
2025-05-23 05:19:34.074 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.090 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.142 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.step.AbstractStep - Step: [initializeEmployeeJobContextStep] executed in 179ms
2025-05-23 05:19:34.142 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.228 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.job.SimpleStepHandler - Executing step: [processEmployeeFileStep]
2025-05-23 05:19:34.229 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.276 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - STEP 2: 開始處理行員檔案
2025-05-23 05:19:34.277 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.293 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.308 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet - 開始處理行員檔案: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 05:19:34.309 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.324 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.342 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet - 檔案總行數: 5
2025-05-23 05:19:34.343 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.361 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.376 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet - 正在解析行員檔案...
2025-05-23 05:19:34.376 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:34.392 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.414 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet - 行員檔案處理完成，處理記錄數: 5
2025-05-23 05:19:35.421 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.457 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.475 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.536 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.step.AbstractStep - Step: [processEmployeeFileStep] executed in 1s292ms
2025-05-23 05:19:35.538 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.630 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.job.SimpleStepHandler - Executing step: [backupEmployeeFileStep]
2025-05-23 05:19:35.630 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.680 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig - STEP 3: 開始備份檔案
2025-05-23 05:19:35.681 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.700 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.716 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 開始備份檔案
2025-05-23 05:19:35.716 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.733 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 來源檔案: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 05:19:35.734 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.749 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 備份目錄: /tmp/batch/backup
2025-05-23 05:19:35.750 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.766 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.784 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 檔案備份完成
2025-05-23 05:19:35.784 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.802 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 備份檔案: /tmp/batch/backup/BOND_MEMMARK_20250523_051935_20250523051933_2752a0b4.txt
2025-05-23 05:19:35.802 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.817 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet - 檔案大小: 243 bytes
2025-05-23 05:19:35.818 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.834 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.850 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.902 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.step.AbstractStep - Step: [backupEmployeeFileStep] executed in 253ms
2025-05-23 05:19:35.902 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.960 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - === 作業執行完成 ===
2025-05-23 05:19:35.960 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:35.986 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行代號: 20250523051933_2752a0b4
2025-05-23 05:19:35.987 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:36.006 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 05:19:36.006 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:36.022 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 執行狀態: COMPLETED
2025-05-23 05:19:36.022 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:36.038 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 結束時間: 2025-05-23T05:19:35.960515
2025-05-23 05:19:36.038 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:36.056 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener - 作業執行成功完成
2025-05-23 05:19:36.056 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:36.072 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 05:19:36.112 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] completed with the following parameters: [{'timestamp':'{value=1747948773646, type=class java.lang.Long, identifying=true}'}] and the following status: [COMPLETED] in 2s200ms
2025-05-23 06:02:45.385 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 17.0.15 with PID 64309 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:02:45.388 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:02:45.389 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:02:45.548 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 06:02:45.618 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:02:45.641 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 20 ms. Found 1 JPA repository interface.
2025-05-23 06:02:45.739 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:02:45.831 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:02:45.836 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:02:45.837 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:02:45.837 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:02:45.856 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:02:45.856 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 451 ms
2025-05-23 06:02:45.907 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:02:45.926 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:02:45.937 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:02:46.015 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:02:46.025 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:02:46.114 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75b363c3
2025-05-23 06:02:46.115 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:02:46.132 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:02:46.429 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:02:46.437 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:02:46.486 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:02:46.508 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:02:46.625 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:02:46.798 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:02:46.804 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:02:46.814 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:02:46.815 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:02:46.815 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:02:46.816 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:02:46.831 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:02:46.945 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:02:46.953 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat started on port 8089 (http) with context path ''
2025-05-23 06:02:46.956 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Started BatchLogSystemApplication in 1.727 seconds (process running for 2.196)
2025-05-23 06:02:46.957 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig [] [] [] - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 06:04:39.403 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 23.0.2 with PID 65691 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:04:39.406 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:04:39.406 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:04:39.538 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 06:04:39.594 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:04:39.614 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2025-05-23 06:04:39.697 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:04:39.774 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:04:39.777 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:04:39.778 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:04:39.778 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:04:39.793 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:04:39.794 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 372 ms
2025-05-23 06:04:39.843 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:04:39.858 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:04:39.872 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:04:39.940 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:04:39.948 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:04:40.030 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@31e7afde
2025-05-23 06:04:40.030 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:04:40.043 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:04:40.270 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:04:40.274 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:04:40.321 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:04:40.338 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:04:40.440 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:04:40.626 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:04:40.632 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:04:40.641 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:04:40.642 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:04:40.642 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:04:40.643 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:04:40.662 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:04:40.754 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:04:40.761 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat started on port 8089 (http) with context path ''
2025-05-23 06:04:40.764 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Started BatchLogSystemApplication in 1.46 seconds (process running for 1.712)
2025-05-23 06:04:40.765 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig [] [] [] - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 06:04:50.799 [http-nio-8089-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23 06:04:50.800 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet [] [] [] - Initializing Servlet 'dispatcherServlet'
2025-05-23 06:04:50.800 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet [] [] [] - Completed initialization in 0 ms
2025-05-23 06:04:50.931 [http-nio-8089-exec-1] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] launched with the following parameters: [{'timestamp':'{value=1747951490811, type=class java.lang.Long, identifying=true}'}]
2025-05-23 06:04:50.958 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - === 作業開始執行 ===
2025-05-23 06:04:50.958 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 執行代號: 202505230604GET_EMPLOYEE_JOB
2025-05-23 06:04:50.958 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 06:04:50.958 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 作業實例ID: 7
2025-05-23 06:04:50.958 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 作業執行ID: 7
2025-05-23 06:04:50.958 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 開始時間: 2025-05-23T06:04:50.937376
2025-05-23 06:04:50.970 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:51.034 [http-nio-8089-exec-1] INFO  org.springframework.batch.core.job.SimpleStepHandler [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - Executing step: [initializeEmployeeJobContextStep]
2025-05-23 06:04:51.064 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - STEP 1: 初始化 GET_EMPLOYEE_JOB 作業上下文
2025-05-23 06:04:51.069 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:51.083 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 資料檔案路徑: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 06:04:51.083 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 備份檔案路徑: /tmp/batch/backup
2025-05-23 06:04:51.083 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 原始檔案名稱: BOND_MEMMARK.txt
2025-05-23 06:04:51.083 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 執行代號: 202505230604GET_EMPLOYEE_JOB
2025-05-23 06:04:51.084 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:51.127 [http-nio-8089-exec-1] INFO  org.springframework.batch.core.step.AbstractStep [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - Step: [initializeEmployeeJobContextStep] executed in 92ms
2025-05-23 06:04:51.179 [http-nio-8089-exec-1] INFO  org.springframework.batch.core.job.SimpleStepHandler [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - Executing step: [processEmployeeFileStep]
2025-05-23 06:04:51.207 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - STEP 2: 開始處理行員檔案
2025-05-23 06:04:51.207 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:51.222 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 開始處理行員檔案: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 06:04:51.222 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:51.238 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 檔案總行數: 5
2025-05-23 06:04:51.239 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:51.253 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 正在解析行員檔案...
2025-05-23 06:04:51.253 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:52.274 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 行員檔案處理完成，處理記錄數: 5
2025-05-23 06:04:52.279 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:52.315 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:52.366 [http-nio-8089-exec-1] INFO  org.springframework.batch.core.step.AbstractStep [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - Step: [processEmployeeFileStep] executed in 1s187ms
2025-05-23 06:04:52.420 [http-nio-8089-exec-1] INFO  org.springframework.batch.core.job.SimpleStepHandler [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - Executing step: [backupEmployeeFileStep]
2025-05-23 06:04:52.448 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - STEP 3: 開始備份檔案
2025-05-23 06:04:52.449 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:52.464 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 開始備份檔案
2025-05-23 06:04:52.465 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 來源檔案: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 06:04:52.465 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 備份目錄: /tmp/batch/backup
2025-05-23 06:04:52.465 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:52.480 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 檔案備份完成
2025-05-23 06:04:52.480 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 備份檔案: /tmp/batch/backup/BOND_MEMMARK_20250523_060452_202505230604GET_EMPLOYEE_JOB.txt
2025-05-23 06:04:52.480 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 檔案大小: 243 bytes
2025-05-23 06:04:52.481 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:52.497 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:52.544 [http-nio-8089-exec-1] INFO  org.springframework.batch.core.step.AbstractStep [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - Step: [backupEmployeeFileStep] executed in 124ms
2025-05-23 06:04:52.571 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - === 作業執行完成 ===
2025-05-23 06:04:52.571 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 執行代號: 202505230604GET_EMPLOYEE_JOB
2025-05-23 06:04:52.571 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 06:04:52.571 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 執行狀態: COMPLETED
2025-05-23 06:04:52.571 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 結束時間: 2025-05-23T06:04:52.570958
2025-05-23 06:04:52.571 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 作業執行成功完成
2025-05-23 06:04:52.571 [http-nio-8089-exec-1] DEBUG org.hibernate.SQL [202505230604GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:04:52.601 [http-nio-8089-exec-1] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] completed with the following parameters: [{'timestamp':'{value=1747951490811, type=class java.lang.Long, identifying=true}'}] and the following status: [COMPLETED] in 1s633ms
2025-05-23 06:07:56.826 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 23.0.2 with PID 67144 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:07:56.828 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:07:56.828 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:07:56.973 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 06:07:57.033 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:07:57.054 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-05-23 06:07:57.135 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:07:57.223 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:07:57.226 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:07:57.227 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:07:57.228 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:07:57.243 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:07:57.244 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 399 ms
2025-05-23 06:07:57.300 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:07:57.316 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:07:57.331 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:07:57.401 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:07:57.409 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:07:57.499 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@312f3050
2025-05-23 06:07:57.500 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:07:57.515 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:07:57.856 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:07:57.861 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:07:57.910 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:07:57.932 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:07:58.048 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:07:58.239 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:07:58.244 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:07:58.254 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:07:58.255 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:07:58.255 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:07:58.256 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:07:58.272 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:07:58.375 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:07:58.377 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [] [] [] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-23 06:07:58.378 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:07:58.379 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown initiated...
2025-05-23 06:07:58.380 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown completed.
2025-05-23 06:07:58.385 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [] [] [] - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-23 06:07:58.389 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [] [] [] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8089 was already in use.

Action:

Identify and stop the process that's listening on port 8089 or configure this application to listen on another port.

2025-05-23 06:08:04.192 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:08:04.194 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown initiated...
2025-05-23 06:08:04.196 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown completed.
2025-05-23 06:08:45.221 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 23.0.2 with PID 67425 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:08:45.223 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:08:45.223 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:08:45.348 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 06:08:45.406 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:08:45.424 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 15 ms. Found 1 JPA repository interface.
2025-05-23 06:08:45.504 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:08:45.579 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:08:45.582 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:08:45.583 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:08:45.583 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:08:45.597 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:08:45.598 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 361 ms
2025-05-23 06:08:45.646 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:08:45.666 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:08:45.677 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:08:45.748 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:08:45.755 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:08:45.831 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@581918f6
2025-05-23 06:08:45.831 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:08:45.844 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:08:46.093 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:08:46.098 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:08:46.145 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:08:46.163 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:08:46.264 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:08:46.441 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:08:46.445 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:08:46.454 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:08:46.455 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:08:46.455 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:08:46.456 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:08:46.471 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:08:46.560 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:08:46.566 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat started on port 8089 (http) with context path ''
2025-05-23 06:08:46.569 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Started BatchLogSystemApplication in 1.444 seconds (process running for 1.691)
2025-05-23 06:08:46.570 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig [] [] [] - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 06:09:02.383 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 17.0.15 with PID 67493 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:09:02.385 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:09:02.386 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:09:02.560 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 06:09:02.628 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:09:02.650 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-05-23 06:09:02.750 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:09:02.843 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:09:02.847 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:09:02.848 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:09:02.848 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:09:02.867 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:09:02.868 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 464 ms
2025-05-23 06:09:02.921 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:09:02.940 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:09:02.952 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:09:03.030 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:09:03.040 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:09:03.121 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@68d8ae27
2025-05-23 06:09:03.122 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:09:03.139 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:09:03.421 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:09:03.428 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:09:03.475 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:09:03.492 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:09:03.600 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:09:03.766 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:09:03.772 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:09:03.782 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:09:03.783 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:09:03.783 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:09:03.785 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:09:03.798 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:09:03.907 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:09:03.910 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [] [] [] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-23 06:09:03.911 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:09:03.911 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown initiated...
2025-05-23 06:09:03.913 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown completed.
2025-05-23 06:09:03.918 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [] [] [] - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-23 06:09:03.923 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [] [] [] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8089 was already in use.

Action:

Identify and stop the process that's listening on port 8089 or configure this application to listen on another port.

2025-05-23 06:09:13.263 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 17.0.15 with PID 67533 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:09:13.265 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:09:13.265 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:09:13.423 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 06:09:13.482 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:09:13.504 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-05-23 06:09:13.594 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:09:13.680 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:09:13.684 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:09:13.684 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:09:13.684 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:09:13.702 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:09:13.703 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 422 ms
2025-05-23 06:09:13.752 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:09:13.768 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:09:13.779 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:09:13.855 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:09:13.864 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:09:13.945 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6480a063
2025-05-23 06:09:13.946 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:09:13.961 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:09:14.240 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:09:14.245 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:09:14.284 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:09:14.297 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:09:14.402 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:09:14.567 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:09:14.573 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:09:14.583 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:09:14.584 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:09:14.584 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:09:14.585 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:09:14.600 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:09:14.707 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:09:14.714 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat started on port 8089 (http) with context path ''
2025-05-23 06:09:14.717 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Started BatchLogSystemApplication in 1.583 seconds (process running for 2.052)
2025-05-23 06:09:14.718 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig [] [] [] - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 06:09:22.212 [http-nio-8089-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23 06:09:22.212 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet [] [] [] - Initializing Servlet 'dispatcherServlet'
2025-05-23 06:09:22.213 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet [] [] [] - Completed initialization in 1 ms
2025-05-23 06:09:22.227 [http-nio-8089-exec-1] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 開始並發批次測試
2025-05-23 06:09:22.229 [pool-2-thread-1] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [] - === BATCH_JOB_1 開始執行 ===
2025-05-23 06:09:22.229 [pool-2-thread-2] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [] - === BATCH_JOB_2 開始執行 ===
2025-05-23 06:09:22.246 [pool-2-thread-1] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:09:22.246 [pool-2-thread-2] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:09:22.290 [pool-2-thread-2] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [step1] - 執行步驟1
2025-05-23 06:09:22.290 [pool-2-thread-2] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [step1] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:09:22.295 [pool-2-thread-1] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [step1] - 執行步驟1
2025-05-23 06:09:22.296 [pool-2-thread-1] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [step1] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:09:22.974 [pool-2-thread-2] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [step2] - 執行步驟2
2025-05-23 06:09:22.980 [pool-2-thread-2] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [step2] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:09:23.311 [pool-2-thread-1] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [step2] - 執行步驟2
2025-05-23 06:09:23.317 [pool-2-thread-1] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [step2] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:09:23.689 [pool-2-thread-2] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [step3] - 執行步驟3
2025-05-23 06:09:23.693 [pool-2-thread-2] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [step3] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:09:24.346 [pool-2-thread-1] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [step3] - 執行步驟3
2025-05-23 06:09:24.350 [pool-2-thread-1] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [step3] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:09:24.386 [pool-2-thread-2] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [step3] - === BATCH_JOB_2 執行完成 ===
2025-05-23 06:09:24.392 [pool-2-thread-2] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_2] [BATCH_JOB_2] [step3] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:09:25.391 [pool-2-thread-1] INFO  cub.ret.tru.batch.controller.MDCTestController [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [step3] - === BATCH_JOB_1 執行完成 ===
2025-05-23 06:09:25.397 [pool-2-thread-1] DEBUG org.hibernate.SQL [20250523060922BATCH_JOB_1] [BATCH_JOB_1] [step3] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:10:55.299 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 開始線程池 MDC 測試
2025-05-23 06:10:55.300 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 主線程設定了 MDC
2025-05-23 06:10:55.302 [pool-2-thread-3] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 任務 1 讀取主線程 MDC: null
2025-05-23 06:10:55.302 [pool-2-thread-4] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 任務 2 讀取主線程 MDC: null
2025-05-23 06:10:55.302 [pool-2-thread-5] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 任務 3 讀取主線程 MDC: null
2025-05-23 06:10:55.303 [pool-2-thread-4] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 任務 2 開始執行
2025-05-23 06:10:55.303 [pool-2-thread-3] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 任務 1 開始執行
2025-05-23 06:10:55.303 [pool-2-thread-5] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 任務 3 開始執行
2025-05-23 06:10:56.306 [pool-2-thread-5] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 任務 3 執行完成
2025-05-23 06:10:56.308 [pool-2-thread-4] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 任務 2 執行完成
2025-05-23 06:10:56.308 [pool-2-thread-3] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 任務 1 執行完成
2025-05-23 06:10:56.312 [pool-2-thread-5] DEBUG org.hibernate.SQL [] [] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:10:56.312 [pool-2-thread-3] DEBUG org.hibernate.SQL [] [] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:10:56.312 [pool-2-thread-4] DEBUG org.hibernate.SQL [] [] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:10:57.308 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.controller.MDCTestController [] [] [] - 主線程 MDC 依然存在: MAIN_THREAD_20250523061055
2025-05-23 06:18:52.076 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 23.0.2 with PID 70591 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:18:52.078 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:18:52.078 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:18:52.211 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 0 ms.
2025-05-23 06:18:52.263 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:18:52.279 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 14 ms. Found 1 JPA repository interface.
2025-05-23 06:18:52.351 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:18:52.427 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:18:52.430 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:18:52.430 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:18:52.430 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:18:52.447 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:18:52.447 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 354 ms
2025-05-23 06:18:52.492 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:18:52.510 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:18:52.521 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:18:52.586 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:18:52.594 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:18:52.670 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@33f349ae
2025-05-23 06:18:52.670 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:18:52.683 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:18:52.936 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:18:52.940 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:18:52.987 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:18:53.005 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:18:53.108 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:18:53.286 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:18:53.291 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:18:53.301 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:18:53.302 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:18:53.302 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:18:53.304 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:18:53.320 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:18:53.408 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:18:53.414 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat started on port 8089 (http) with context path ''
2025-05-23 06:18:53.417 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Started BatchLogSystemApplication in 1.45 seconds (process running for 1.701)
2025-05-23 06:18:53.418 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig [] [] [] - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 06:19:16.453 [http-nio-8089-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23 06:19:16.453 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet [] [] [] - Initializing Servlet 'dispatcherServlet'
2025-05-23 06:19:16.454 [http-nio-8089-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet [] [] [] - Completed initialization in 1 ms
2025-05-23 06:19:27.093 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] launched with the following parameters: [{'timestamp':'{value=1747952367001, type=class java.lang.Long, identifying=true}'}]
2025-05-23 06:19:27.199 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - === 作業開始執行 ===
2025-05-23 06:19:27.210 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.232 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 執行代號: 202505230619GET_EMPLOYEE_JOB
2025-05-23 06:19:27.232 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.245 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 06:19:27.246 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.260 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 作業實例ID: 8
2025-05-23 06:19:27.260 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.274 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 作業執行ID: 8
2025-05-23 06:19:27.274 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.288 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 開始時間: 2025-05-23T06:19:27.097490
2025-05-23 06:19:27.288 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.306 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.358 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.job.SimpleStepHandler [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - Executing step: [initializeEmployeeJobContextStep]
2025-05-23 06:19:27.359 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.406 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - STEP 1: 初始化 GET_EMPLOYEE_JOB 作業上下文
2025-05-23 06:19:27.410 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.425 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.440 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 資料檔案路徑: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 06:19:27.443 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.456 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 備份檔案路徑: /tmp/batch/backup
2025-05-23 06:19:27.457 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.470 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 原始檔案名稱: BOND_MEMMARK.txt
2025-05-23 06:19:27.471 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.484 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 執行代號: 202505230619GET_EMPLOYEE_JOB
2025-05-23 06:19:27.484 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.498 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.546 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.step.AbstractStep [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - Step: [initializeEmployeeJobContextStep] executed in 174ms
2025-05-23 06:19:27.547 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.651 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.job.SimpleStepHandler [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - Executing step: [processEmployeeFileStep]
2025-05-23 06:19:27.652 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [initializeEmployeeJobContextStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.700 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - STEP 2: 開始處理行員檔案
2025-05-23 06:19:27.701 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.717 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.811 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 開始處理行員檔案: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 06:19:27.811 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.827 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.841 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 檔案總行數: 5
2025-05-23 06:19:27.842 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.855 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.869 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 正在解析行員檔案...
2025-05-23 06:19:27.869 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:27.885 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:28.904 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.GetEmployeeJobTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 行員檔案處理完成，處理記錄數: 5
2025-05-23 06:19:28.908 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:28.943 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.008 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.062 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.step.AbstractStep [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - Step: [processEmployeeFileStep] executed in 1s393ms
2025-05-23 06:19:29.063 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.136 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.job.SimpleStepHandler [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - Executing step: [backupEmployeeFileStep]
2025-05-23 06:19:29.136 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [processEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.176 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.job.GetEmployeeJobConfig [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - STEP 3: 開始備份檔案
2025-05-23 06:19:29.176 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.190 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.204 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 開始備份檔案
2025-05-23 06:19:29.204 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.218 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 來源檔案: /tmp/batch/input/BOND_MEMMARK.txt
2025-05-23 06:19:29.218 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.232 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 備份目錄: /tmp/batch/backup
2025-05-23 06:19:29.232 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.246 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.263 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 檔案備份完成
2025-05-23 06:19:29.264 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.277 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 備份檔案: /tmp/batch/backup/BOND_MEMMARK_20250523_061929_202505230619GET_EMPLOYEE_JOB.txt
2025-05-23 06:19:29.278 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.294 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.tasklet.TrustBackupFileTasklet [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 檔案大小: 243 bytes
2025-05-23 06:19:29.295 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.308 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.322 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.442 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.step.AbstractStep [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - Step: [backupEmployeeFileStep] executed in 292ms
2025-05-23 06:19:29.443 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.487 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - === 作業執行完成 ===
2025-05-23 06:19:29.487 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.502 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 執行代號: 202505230619GET_EMPLOYEE_JOB
2025-05-23 06:19:29.503 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.516 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 作業名稱: GET_EMPLOYEE_JOB
2025-05-23 06:19:29.517 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.530 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 執行狀態: COMPLETED
2025-05-23 06:19:29.530 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.544 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 結束時間: 2025-05-23T06:19:29.487114
2025-05-23 06:19:29.545 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.560 [http-nio-8089-exec-2] INFO  cub.ret.tru.batch.listener.base.BaseJobListener [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 作業執行成功完成
2025-05-23 06:19:29.560 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.580 [http-nio-8089-exec-2] DEBUG org.hibernate.SQL [202505230619GET_EMPLOYEE_JOB] [GET_EMPLOYEE_JOB] [backupEmployeeFileStep] - 
    insert 
    into
        batch_log
        (additional_info, created_at, exception_stack, execution_id, job_name, log_level, log_time, logger_name, message, step_name, thread_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-23 06:19:29.613 [http-nio-8089-exec-2] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - Job: [SimpleJob: [name=GET_EMPLOYEE_JOB]] completed with the following parameters: [{'timestamp':'{value=1747952367001, type=class java.lang.Long, identifying=true}'}] and the following status: [COMPLETED] in 2s389ms
2025-05-23 06:19:56.374 [http-nio-8089-exec-3] DEBUG org.hibernate.SQL [] [] [] - 
    select
        ble1_0.id,
        ble1_0.additional_info,
        ble1_0.created_at,
        ble1_0.exception_stack,
        ble1_0.execution_id,
        ble1_0.job_name,
        ble1_0.log_level,
        ble1_0.log_time,
        ble1_0.logger_name,
        ble1_0.message,
        ble1_0.step_name,
        ble1_0.thread_name 
    from
        batch_log ble1_0 
    where
        ble1_0.execution_id=? 
    order by
        ble1_0.log_time
2025-05-23 06:26:02.067 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 17.0.15 with PID 71905 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:26:02.069 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:26:02.070 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:26:02.211 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 06:26:02.269 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:26:02.293 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 21 ms. Found 1 JPA repository interface.
2025-05-23 06:26:02.386 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:26:02.468 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:26:02.471 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:26:02.472 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:26:02.472 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:26:02.490 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:26:02.491 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 406 ms
2025-05-23 06:26:02.546 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:26:02.564 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:26:02.576 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:26:02.651 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:26:02.660 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:26:02.746 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@ce2eaa7
2025-05-23 06:26:02.746 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:26:02.762 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:26:03.038 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:26:03.045 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:26:03.093 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:26:03.110 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:26:03.218 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:26:03.378 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:26:03.384 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:26:03.393 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:03.393 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:03.394 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:03.395 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:03.408 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:26:03.522 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:26:03.525 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [] [] [] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-23 06:26:03.526 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:26:03.526 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown initiated...
2025-05-23 06:26:03.528 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown completed.
2025-05-23 06:26:03.534 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [] [] [] - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-23 06:26:03.540 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [] [] [] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8089 was already in use.

Action:

Identify and stop the process that's listening on port 8089 or configure this application to listen on another port.

2025-05-23 06:26:20.116 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 17.0.15 with PID 72028 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:26:20.119 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:26:20.119 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:26:20.275 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 06:26:20.337 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:26:20.363 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 24 ms. Found 1 JPA repository interface.
2025-05-23 06:26:20.455 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:26:20.550 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:26:20.554 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:26:20.555 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:26:20.555 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:26:20.575 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:26:20.576 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 441 ms
2025-05-23 06:26:20.632 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:26:20.650 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:26:20.665 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:26:20.742 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:26:20.753 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:26:20.838 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3eee08f5
2025-05-23 06:26:20.839 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:26:20.853 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:26:21.150 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:26:21.158 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:26:21.200 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:26:21.220 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:26:21.332 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:26:21.493 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:26:21.499 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:26:21.508 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:21.508 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:21.509 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:21.510 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:21.523 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:26:21.632 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:26:21.635 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [] [] [] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-23 06:26:21.635 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:26:21.636 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown initiated...
2025-05-23 06:26:21.638 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Shutdown completed.
2025-05-23 06:26:21.643 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [] [] [] - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-23 06:26:21.647 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [] [] [] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8089 was already in use.

Action:

Identify and stop the process that's listening on port 8089 or configure this application to listen on another port.

2025-05-23 06:26:30.783 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Starting BatchLogSystemApplication using Java 17.0.15 with PID 72094 (/Users/audi/Downloads/log/target/classes started by audi in /Users/audi/Downloads/log)
2025-05-23 06:26:30.786 [main] DEBUG cub.ret.tru.BatchLogSystemApplication [] [] [] - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-05-23 06:26:30.786 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - No active profile set, falling back to 1 default profile: "default"
2025-05-23 06:26:30.950 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchRegistrar [] [] [] - Finished Spring Batch infrastructure beans configuration in 1 ms.
2025-05-23 06:26:31.018 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23 06:26:31.042 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate [] [] [] - Finished Spring Data repository scanning in 21 ms. Found 1 JPA repository interface.
2025-05-23 06:26:31.136 [main] WARN  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [] [] [] - Bean 'jobRegistry' of type [org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [jobRegistryBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-05-23 06:26:31.225 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat initialized with port 8089 (http)
2025-05-23 06:26:31.229 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Initializing ProtocolHandler ["http-nio-8089"]
2025-05-23 06:26:31.230 [main] INFO  org.apache.catalina.core.StandardService [] [] [] - Starting service [Tomcat]
2025-05-23 06:26:31.230 [main] INFO  org.apache.catalina.core.StandardEngine [] [] [] - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-05-23 06:26:31.251 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [] [] [] - Initializing Spring embedded WebApplicationContext
2025-05-23 06:26:31.252 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [] [] [] - Root WebApplicationContext: initialization completed in 449 ms
2025-05-23 06:26:31.302 [main] INFO  org.hibernate.jpa.internal.util.LogHelper [] [] [] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-23 06:26:31.321 [main] INFO  org.hibernate.Version [] [] [] - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-05-23 06:26:31.334 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator [] [] [] - HHH000026: Second-level cache disabled
2025-05-23 06:26:31.405 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo [] [] [] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23 06:26:31.415 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Starting...
2025-05-23 06:26:31.504 [main] INFO  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75b363c3
2025-05-23 06:26:31.505 [main] INFO  com.zaxxer.hikari.HikariDataSource [] [] [] - HikariPool-1 - Start completed.
2025-05-23 06:26:31.520 [main] WARN  org.hibernate.orm.deprecation [] [] [] - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-23 06:26:31.801 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [] [] [] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-23 06:26:31.808 [main] DEBUG org.hibernate.SQL [] [] [] - 
    drop table if exists batch_log cascade
2025-05-23 06:26:31.849 [main] DEBUG org.hibernate.SQL [] [] [] - 
    create table batch_log (
        created_at timestamp(6) not null,
        id bigserial not null,
        log_time timestamp(6) not null,
        log_level varchar(10),
        execution_id varchar(50) not null,
        job_name varchar(100),
        step_name varchar(100),
        thread_name varchar(100),
        logger_name varchar(200),
        additional_info TEXT,
        exception_stack TEXT,
        message TEXT,
        primary key (id)
    )
2025-05-23 06:26:31.866 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [] [] [] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23 06:26:31.974 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory [] [] [] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23 06:26:32.140 [main] INFO  org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [] [] [] - No database type set, using meta data indicating: POSTGRES
2025-05-23 06:26:32.146 [main] INFO  org.springframework.batch.core.launch.support.SimpleJobLauncher [] [] [] - No TaskExecutor has been set, defaulting to synchronous executor.
2025-05-23 06:26:32.155 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:32.156 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:32.156 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:32.157 [main] INFO  org.springframework.batch.core.configuration.annotation.BatchObservabilityBeanPostProcessor [] [] [] - No Micrometer observation registry found, defaulting to ObservationRegistry.NOOP
2025-05-23 06:26:32.171 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [] [] [] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23 06:26:32.278 [main] INFO  org.apache.coyote.http11.Http11NioProtocol [] [] [] - Starting ProtocolHandler ["http-nio-8089"]
2025-05-23 06:26:32.286 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer [] [] [] - Tomcat started on port 8089 (http) with context path ''
2025-05-23 06:26:32.289 [main] INFO  cub.ret.tru.BatchLogSystemApplication [] [] [] - Started BatchLogSystemApplication in 1.648 seconds (process running for 2.123)
2025-05-23 06:26:32.290 [main] INFO  cub.ret.tru.batch.config.BatchLogConfig [] [] [] - DatabaseAppender 已成功配置 BatchLogService
2025-05-23 06:44:31.581 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Retrograde clock change detected (housekeeper delta=29s839ms), soft-evicting connections from pool.
2025-05-23 06:59:51.741 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m20s49ms).
2025-05-23 07:25:30.868 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=24m38s328ms).
2025-05-23 07:42:14.849 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m38s578ms).
2025-05-23 07:50:17.862 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m3s13ms).
2025-05-23 08:23:34.160 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=33m16s297ms).
2025-05-23 08:30:21.414 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6m47s255ms).
2025-05-23 08:57:31.341 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=27m9s927ms).
2025-05-23 09:58:29.294 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h27s970ms).
2025-05-23 10:48:04.511 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49m5s210ms).
2025-05-23 10:59:57.136 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m52s625ms).
2025-05-23 11:32:37.353 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=32m40s217ms).
2025-05-23 11:51:50.759 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m43s399ms).
2025-05-23 12:00:28.811 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m8s23ms).
2025-05-23 12:02:36.762 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m37s945ms).
2025-05-23 12:06:38.703 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m31s925ms).
2025-05-23 12:13:43.616 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m34s890ms).
2025-05-23 12:18:39.030 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m55s389ms).
2025-05-23 12:33:47.010 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m36s286ms).
2025-05-23 12:35:26.045 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m39s35ms).
2025-05-23 12:59:11.571 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=23m15s516ms).
2025-05-23 13:01:53.529 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m11s947ms).
2025-05-23 13:18:47.440 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m53s911ms).
2025-05-23 14:02:46.423 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=43m58s982ms).
2025-05-23 14:15:04.683 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m48s246ms).
2025-05-23 14:59:47.912 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=44m43s229ms).
2025-05-23 15:03:45.629 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m27s703ms).
2025-05-23 16:04:38.505 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h22s868ms).
2025-05-23 16:21:56.501 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m17s219ms).
2025-05-23 16:48:48.413 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=26m21s244ms).
2025-05-23 17:05:50.743 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m32s323ms).
2025-05-23 17:14:42.563 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m51s820ms).
2025-05-23 18:03:56.031 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=48m43s461ms).
2025-05-23 18:06:43.658 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m13s197ms).
2025-05-23 18:25:05.486 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m51s826ms).
2025-05-23 18:42:14.285 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m8s799ms).
2025-05-23 18:51:44.634 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m30s349ms).
2025-05-23 21:41:09.504 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s40ms).
2025-05-23 21:50:00.542 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m21s28ms).
2025-05-23 21:58:20.799 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m20s257ms).
2025-05-23 22:01:43.460 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m21s870ms).
2025-05-23 22:09:56.494 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m43s25ms).
2025-05-23 22:12:09.151 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m42s650ms).
2025-05-23 22:15:28.276 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m19s126ms).
2025-05-23 22:19:48.161 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m19s97ms).
2025-05-23 22:21:04.557 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=46s392ms).
2025-05-23 23:00:24.695 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=38m10s228ms).
2025-05-23 23:40:03.068 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool [] [] [] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=39m8s364ms).
